# ==========================================
# Coolify Configuration File (Opcional)
# Pesca Lead CRM
# ==========================================

# Informações do projeto
name: pesca-lead-crm
description: CRM com Agentes de IA para WhatsApp

# Configuração do build
build:
  method: dockerfile
  dockerfile: dockerfile.build
  context: .
  
# Rede e portas
network:
  port: 3000
  protocol: http
  
# Health check
healthcheck:
  enabled: true
  path: /
  interval: 30s
  timeout: 3s
  retries: 3
  start_period: 5s
  
# Recursos (ajuste conforme necessário)
resources:
  limits:
    memory: 512MB
    cpu: 1
  requests:
    memory: 256MB
    cpu: 0.5

# Deploy strategy
deployment:
  strategy: rolling
  max_surge: 1
  max_unavailable: 0
  
# Variáveis de ambiente (defina os valores no painel)
environment:
  required:
    - VITE_SUPABASE_URL
    - VITE_SUPABASE_ANON_KEY
    - SUPABASE_SERVICE_ROLE_KEY
    - EVOLUTION_API_URL
    - EVOLUTION_API_KEY
    - GEMINI_API_KEY
  optional:
    - RESEND_API_KEY
    - UAZAPI_API_URL
    - UAZAPI_ADMIN_TOKEN
    - SCRAPER_API_URL

# Volumes persistentes (se necessário)
volumes: []

# Comandos pós-deploy (opcional)
post_deploy: []

# Notificações (opcional)
notifications:
  discord: false
  slack: false
  email: false
